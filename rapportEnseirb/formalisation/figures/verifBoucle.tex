\begin{tikzpicture}[node distance=1.3cm,>=stealth,bend angle=45,auto]
  \tikzstyle{segment}=[]
  \tikzstyle{place}=[circle,thick,minimum size=6mm]
  \tikzstyle{transition}=[rectangle,thick,minimum size=4mm]

  \tikzstyle{blue}=[draw=blue!75,fill=blue!20]
  \tikzstyle{red}=[draw=red!75,fill=red!20]
  \tikzstyle{black}=[draw=black!75,fill=black!20]

  \tikzstyle{tblue}=[draw=blue!100,fill=blue!75]
  \tikzstyle{tred}=[draw=red!100,fill=red!75]
  \tikzstyle{tblack}=[draw=black!100,fill=black!75]

  \begin{scope}
  \node[segment](I){In};
  \node [blue,place] (A) [right of=I] {$A$};
  \node [black,transition] (Ta) [right of=A,label=$t_A$] {$T_A$};
  \node [blue,place] (B) [right of=Ta] {$B$};
  \node [black,transition] (Tb) [above of=Ta, label=$t_B$] {$T_B$};
  \node[segment](O) [right of=B]{Out};
  
  \path
  		(I) edge[post] node {} (A)
  		(A) edge[post] node {} (Ta)
  		(Ta) edge[post] node {} (B)
  		(B) edge[post] node {} (Tb)
  		(Tb) edge[post] node {} (A)
  		(B) edge[post] node {} (O);
  \end{scope}
\end{tikzpicture}

\vspace{1em}
Devient
\vspace{1em}

\begin{tikzpicture}[node distance=1.3cm,>=stealth,bend angle=45,auto]
  \tikzstyle{segment}=[]
  \tikzstyle{place}=[circle,thick,minimum size=6mm]
  \tikzstyle{transition}=[rectangle,thick,minimum size=4mm]

  \tikzstyle{blue}=[draw=blue!75,fill=blue!20]
  \tikzstyle{red}=[draw=red!75,fill=red!20]
  \tikzstyle{black}=[draw=black!75,fill=black!20]
  \tikzstyle{green}=[draw=green!75,fill=green!20]

  \tikzstyle{tblue}=[draw=blue!100,fill=blue!75]
  \tikzstyle{tred}=[draw=red!100,fill=red!75]
  \tikzstyle{tblack}=[draw=black!100,fill=black!75]

  \begin{scope}
  \node[segment](I){In};
  \node[red,place] (Aalpha) [right of=I] {$A$};
  \node[red,transition] (Talpha) [right of=Aalpha, label=$0$] {}; 
  \node[green,place] (Aalpha0) [right of=Talpha] {};
  
  \node[blue,place] (A) [above of=Aalpha0] {};
  \node[black,transition] (Ta) [right of=A, label=$t_A$] {$T_A$};
  \node[dotted,blue,place] (B0) [right of=Ta] {$B_0$};
 
 
  \node[green,transition] (Tbeta) [right of=Aalpha0, label=$t_A - \delta_{N \rightarrow N_d}$] {};
  \node[blue,place] (B) [right of=Tbeta] {$B$};
  \node[black,transition] (Tb) [below of=Tbeta, label=$t_B$] {$T_B$};
  \node[segment](O) [right of=B]{Out};
  
  \path
  		(I) edge[post] node {} (Aalpha)
  		(Aalpha) edge[post,red] node {} (Talpha)
  		(Talpha) edge[post,red] node {} (Aalpha0)
  				 edge[post,red] node {} (A)
  		(Aalpha0) edge[post,green] node {} (Tbeta)
  		(Tbeta) edge[post,green] node {} (B)
  		(A) edge[post] node {} (Ta)
  		(Ta) edge[post] node {} (B0)
  		(B) edge[post] node {} (Tb)
  		(Tb) edge[post] node {} (Aalpha)
  		(B) edge[post] node {} (O);
  \end{scope}
\end{tikzpicture}

\vspace{1em}
Enfin :
\vspace{1em}


\begin{tikzpicture}[node distance=1.3cm,>=stealth,bend angle=45,auto]
  \tikzstyle{segment}=[]
  \tikzstyle{place}=[circle,thick,minimum size=6mm]
  \tikzstyle{transition}=[rectangle,thick,minimum size=4mm]

  \tikzstyle{blue}=[draw=blue!75,fill=blue!20]
  \tikzstyle{red}=[draw=red!75,fill=red!20]
  \tikzstyle{black}=[draw=black!75,fill=black!20]
  \tikzstyle{green}=[draw=green!75,fill=green!20]

  \tikzstyle{tblue}=[draw=blue!100,fill=blue!75]
  \tikzstyle{tred}=[draw=red!100,fill=red!75]
  \tikzstyle{tblack}=[draw=black!100,fill=black!75]

  \begin{scope}
  % Début
    \node[segment](I){In};
    \node[red,place] (Aalpha) [right of=I] {$A$};
    \node[red,transition] (Talpha) [right of=Aalpha, label=$0$] {}; 
  
  % Branche centrale
    \node[green, place] (Abeta2) [right of=Talpha] {};
    \node[green,transition] (Tbeta) [right of=Abeta2, label=$t_A-\delta_{N \rightarrow N_d}$] {};
    
    \node[red,place] (Balpha) [right of=Tbeta] {$B$};
    \node[red, transition] (Talpha2) [right of=Balpha, label=$0$] {};
    
    \node[blue,place] (B) [right of=Talpha2] {};
    \node[black, transition] (TB) [right of=B, label=$t_B$] {$T_B$};
    \node[blue, dotted, place] (AFake) [right of=TB] {$A_0$};
    
  % Branche du bas
    \node[segment](O) [below of=Talpha2]{Out};
  
    \node[green, place] (Bbeta) [below of=B] {};
    \node[green,transition] (Tbeta2) [right of=Bbeta,label=$t_B-\delta_{N_d \rightarrow N}$] {};
  
  % Branche supérieure
    \node[blue,place] (A) [above of=Abeta2] {};
    \node[black,transition] (Ta) [right of=A, label=$t_A$] {$T_A$};
    \node[dotted,blue,place] (B0) [right of=Ta] {$B_0$};
    
  \path
  		(I) edge[post] node {} (Aalpha)
  		(Aalpha) edge[post,red] node {} (Talpha)
  		(Talpha) edge[post,red] node {} (A)
  				 edge[post,red] node {} (Abeta2)
  		(A) edge[post] node {} (Ta)
  		(Ta) edge[post] node {} (B0)
  		
  		(Abeta2) edge[post,green] node {} (Tbeta)
  		(Tbeta) edge[post,green] node {} (Balpha)
  		
  		(Balpha) edge[post,red] node {} (Talpha2)
  				 edge[post] node {} (O)
  		(Talpha2) edge[post,red] node {} (B)
  		 edge[post,red] node {} (Bbeta)
  		(B) edge[post] node {} (TB)
  		(TB) edge[post] node {} (AFake)
  		(Bbeta) edge[post,green] node {} (Tbeta2)
  		(Tbeta2) edge[post,draw=green!75,bend left] node {} (Aalpha)
  		;
  		
  \end{scope}
\end{tikzpicture}
